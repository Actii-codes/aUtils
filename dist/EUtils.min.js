'use strict';(()=>{class w{constructor(){this.transitions={};this.storedIDs=[];this.version="1.0.0"}decimalRand(a,b,c=1){a=Number((Math.random()*(a-b)+b).toFixed(c));return 1<=a?Math.floor(a):a}getPercentage(a,b){return 100*a/b}clamp(a,b=0,c=1){return Math.min(c,Math.max(b,a))}lerp(a,b,c){return a*(1-c)+b*c}round(a,b=1){return Math.round(b*a)/b}normalize(a,b,c){return 0===c-b?1:(a-b)/(c-b)}within(a,b,c){return a>=b&&a<=c}formatNumber(a){return a.toFixed().toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,
"$1,")}generateID(a=7){const b=function(){let e="";for(let g=0;g<a;g++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e};let c=b();for(;this.storedIDs.includes(c);)c=b();this.storedIDs.push(c);return c}decimalToHex(a,b=6){return"#"+(a+Math.pow(16,b)).toString(16).slice(-b).toUpperCase()}addIntensity(a,b){var c=this.grabColor(a).rgbArray;a=c[0];const e=c[1];c=c[2];let g=0,k=0,m=0;const l=0===a&&0===e&&0===c?!0:!1;if(a||l)g=a+Math.floor(255*
b/100);if(e||l)k=e+Math.floor(255*b/100);if(c||l)m=c+Math.floor(255*b/100);return this.grabColor(this.clamp(g,0,255),this.clamp(k,0,255),this.clamp(m,0,255)).hex}grabColor(a=this.getRandomColor(),b,c){let e;"number"===typeof a&&"number"===typeof b&&"number"===typeof c?(e=this.clamp(a,0,255),b=this.clamp(b,0,255),a=this.clamp(c,0,255),c="#"+[e,b,a].map(function(g){return g.toString(16).padStart(2,"0")}).join("")):("number"===typeof a&&(a=this.decimalToHex(a)),c=a,a=a.replace("#",""),3===a.length&&
(a=a.replace(/(.)/g,"$1$1")),a=a.match(/../g),e=this.clamp(parseInt(a[0],16),0,255),b=this.clamp(parseInt(a[1],16),0,255),a=this.clamp(parseInt(a[2],16),0,255));return{hex:c.toLowerCase(),hexTagless:c.replace("#","").toLowerCase(),rgb:"rgb("+e+","+b+","+a+")",rgbArray:[e,b,a],rgbObject:{r:e,g:b,b:a},rgbNormal:[Math.round(e/255*100)/100,Math.round(b/255*100)/100,Math.round(a/255*100)/100],decimal:e<<16|b<<8|a}}getRandomColor(){let a="#";for(let b=0;6>b;b++)a+="0123456789ABCDEF"[Math.floor(16*Math.random())];
return a}transitionColor(a,b="#000",c="#fff",e=1E3,g,k){const m=e/(1E3/60),l="function"===typeof g?g:null,u="function"===typeof k?k:null;let d,r,v,n,p;a?(d=a.id?a.id:this.generateID(),r="GeneratedParticle"===a.type,v="object"===typeof a.color&&a.color.constructor===Object?!0:!1,this.transitions[d]&&this.cancelTransitionColor(d)):d=this.generateID();this.transitions[d]={rate:1/m,counter:0,timeTracker:r?a.info.lifetime:0};n=this.grabColor(b).rgbArray;p=this.grabColor(c).rgbArray;const f=this;this.transitions[d].step=
q=>{if(f.transitions[d]){if(r)if(a.info){if(a.info.owner&&a.info.owner.settings.paused)return}else{f.transitions[d]&&this.cancelTransitionColor(d);return}q=performance.now();f.transitions[d].lastTime||(f.transitions[d].lastTime=q);var h=q-f.transitions[d].lastTime;f.transitions[d].counter=Math.min(f.transitions[d].counter+f.transitions[d].rate,1);f.transitions[d].timeTracker+=h;h=parseInt(f.lerp(n[0],p[0],f.transitions[d].counter),10);const x=parseInt(f.lerp(n[1],p[1],f.transitions[d].counter),10),
y=parseInt(f.lerp(n[2],p[2],f.transitions[d].counter),10);h=f.grabColor(h,x,y);l&&l(h);a&&(v?(a.color.tint=h.decimal,a.color=a.color):a.color=h.hex);1<=f.transitions[d].counter||f.transitions[d].timeTracker>=e?(f.transitions[d]&&this.cancelTransitionColor(d),u&&u(h)):(f.transitions[d].req=window.requestAnimationFrame(f.transitions[d].step),f.transitions[d].lastTime=q)}};this.transitions[d].req=window.requestAnimationFrame(this.transitions[d].step);return d}cancelTransitionColor(a){this.transitions[a]&&
(window.cancelAnimationFrame(this.transitions[a].req),delete this.transitions[a])}getPointRotated(a,b,c){const e=a.x+a.width/2;a=a.y+a.height/2;const g=c.x-e;c=c.y-a;return{x:g*Math.cos(b)-c*Math.sin(b)+e,y:g*Math.sin(b)+c*Math.cos(b)+a}}getPointsOfRotatedRect(a,b){const c=this.getPointRotated(a,b,{x:a.x,y:a.y}),e=this.getPointRotated(a,b,{x:a.x+a.width,y:a.y}),g=this.getPointRotated(a,b,{x:a.x,y:a.y+a.height}),k=this.getPointRotated(a,b,{x:a.x+a.width,y:a.y+a.height});a=this.getPointRotated(a,b,
{x:a.x+a.width/2,y:a.y+a.height/2});return{tl:c,tr:e,bl:g,br:k,center:a}}}const t=new w;"undefined"!==typeof VYLO.global&&(VYLO.global.EUtils=t);window.EUtils=t;console.log("%cEUtils.js: \u2705 EUtils.js@"+t.version,"font-family:arial;")})();