'use strict';window.EUtilsManager=class{constructor(){this.transitions={};this.storedIDs=[];this.version="1.0.0"}decimalRand(a,b,c=1){a=Number((Math.random()*(a-b)+b).toFixed(c));return 1<=a?Math.floor(a):a}getPercentage(a,b){return 100*a/b}clamp(a,b=0,c=1){return Math.min(c,Math.max(b,a))}lerp(a,b,c){return a*(1-c)+b*c}round(a,b=1){return Math.round(b*a)/b}normalize(a,b,c){return 0===c-b?1:(a-b)/(c-b)}within(a,b,c){return a>=b&&a<=c}formatNumber(a){return a.toFixed().toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,
"$1,")}generateID(a=7){const b=function(){let f="";for(let g=0;g<a;g++)f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return f};let c=b();for(;this.storedIDs.includes(c);)c=b();this.storedIDs.push(c);return c}decimalToHex(a,b=6){return"#"+(a+Math.pow(16,b)).toString(16).slice(-b).toUpperCase()}addIntensity(a,b){var c=this.grabColor(a).rgbArray;a=c[0];const f=c[1];c=c[2];let g=0,l=0,m=0;const k=0===a&&0===f&&0===c?!0:!1;if(a||k)g=a+Math.floor(255*
b/100);if(f||k)l=f+Math.floor(255*b/100);if(c||k)m=c+Math.floor(255*b/100);return this.grabColor(this.clamp(g,0,255),this.clamp(l,0,255),this.clamp(m,0,255)).hex}grabColor(a=this.getRandomColor(),b,c){let f;"number"===typeof a&&"number"===typeof b&&"number"===typeof c?(f=this.clamp(a,0,255),b=this.clamp(b,0,255),a=this.clamp(c,0,255),c="#"+[f,b,a].map(function(g){return g.toString(16).padStart(2,"0")}).join("")):("number"===typeof a&&(a=this.decimalToHex(a)),c=a,a=a.replace("#",""),3===a.length&&
(a=a.replace(/(.)/g,"$1$1")),a=a.match(/../g),f=this.clamp(parseInt(a[0],16),0,255),b=this.clamp(parseInt(a[1],16),0,255),a=this.clamp(parseInt(a[2],16),0,255));return{hex:c.toLowerCase(),hexTagless:c.replace("#","").toLowerCase(),rgb:"rgb("+f+","+b+","+a+")",rgbArray:[f,b,a],rgbObject:{r:f,g:b,b:a},rgbNormal:[Math.round(f/255*100)/100,Math.round(b/255*100)/100,Math.round(a/255*100)/100],decimal:f<<16|b<<8|a}}getRandomColor(){let a="#";for(let b=0;6>b;b++)a+="0123456789ABCDEF"[Math.floor(16*Math.random())];
return a}transitionColor(a,b="#000",c="#fff",f=1E3,g,l){const m=f/(1E3/60),k="function"===typeof g?g:null,t="function"===typeof l?l:null;let d,r,u,n,p;a?(d=a.id?a.id:this.generateID(),r="GeneratedParticle"===a.type,u="object"===typeof a.color&&a.color.constructor===Object?!0:!1,this.transitions[d]&&this.cancelTransitionColor(d)):d=this.generateID();this.transitions[d]={rate:1/m,counter:0,timeTracker:r?a.info.lifetime:0};n=this.grabColor(b).rgbArray;p=this.grabColor(c).rgbArray;const e=this;this.transitions[d].step=
q=>{if(e.transitions[d]){if(r)if(a.info){if(a.info.owner&&a.info.owner.settings.paused)return}else{e.transitions[d]&&this.cancelTransitionColor(d);return}q=performance.now();e.transitions[d].lastTime||(e.transitions[d].lastTime=q);var h=q-e.transitions[d].lastTime;e.transitions[d].counter=Math.min(e.transitions[d].counter+e.transitions[d].rate,1);e.transitions[d].timeTracker+=h;h=parseInt(e.lerp(n[0],p[0],e.transitions[d].counter),10);const v=parseInt(e.lerp(n[1],p[1],e.transitions[d].counter),10),
w=parseInt(e.lerp(n[2],p[2],e.transitions[d].counter),10);h=e.grabColor(h,v,w);k&&k(h);a&&(u?(a.color.tint=h.decimal,a.color=a.color):a.color=h.hex);1<=e.transitions[d].counter||e.transitions[d].timeTracker>=f?(e.transitions[d]&&this.cancelTransitionColor(d),t&&t(h)):(e.transitions[d].req=window.requestAnimationFrame(e.transitions[d].step),e.transitions[d].lastTime=q)}};this.transitions[d].req=window.requestAnimationFrame(this.transitions[d].step);return d}cancelTransitionColor(a){this.transitions[a]&&
(window.cancelAnimationFrame(this.transitions[a].req),delete this.transitions[a])}};const EUtils=new EUtilsManager;VYLO.global.EUtils=EUtils;window.EUtils=EUtils;console.log("%cEUtils.js: \u2705 EUtils.js@"+EUtils.version,"font-family:arial;");